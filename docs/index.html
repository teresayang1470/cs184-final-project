<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css">
<link href="https://fonts.googleapis.com/css?family=Inter|Montserrat" rel="stylesheet">
<!-- Math notation -->
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [ ['$','$'], ["\\(","\\)"] ],
      processEscapes: true
    }
  });
</script>
    
<script type="text/javascript"
        src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>

<style>
  body {
    padding: 100px;
    width: 1400px;
    margin: auto;
    text-align: left;
    font-weight: 400;
    font-family: 'Avenir', sans-serif;
    color: #121212;
    font-size:large;
  }
  h1, h2, h3, h4 {
    font-family: 'Montserrat', sans-serif;
    font-weight: bold;

  }
</style>
<title>Material Point Method</title>
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
</head>
<body>
    <nav class="navbar fixed-top navbar-expand-sm bg-dark navbar-dark">
      <ul class="navbar-nav">
          <li class="nav-item">
            <a class="nav-link" href="proposal.html">Proposal</a>
          </li>
        <li class="nav-item active">
          <a class="nav-link" href="index.html">Milestone Report</a>
        </li>
        <li class="nav-item">
          <a class="nav-link disabled" href="#">Final Report</a>
        </li>
      </ul>
    </nav>
<br>
<div>
<h1>Milestone Report: Material Point Method</h1>
    <h2>CS184 - Spring 2021</h1>
        <h4>Teresa Yang, Stephen Lin, Nikki Suppala, and Brandon Illescas</h4>
    <br>
    
<a href="https://docs.google.com/presentation/d/10JHiaX4XL1NIrMlYHLGbccK807-ROKagpyNZuUP6TL0/edit?usp=sharing">Presentation Slides</a>
<br>
<br>
<h2>Preliminary Results</h2>
    <p>Using the Taichi programming language, which is discussed further in the “Current Progress” section below, we have been able to render both rigid and elastic materials; we have also rendered specific materials such as snow, water, and sand. The majority of our work was in 2D, although we have begun taking a look at how 3D renders will work with Taichi.</p>
    <div align="center">
        <table style="width=100%">
            <tr  style="vertical-align:top">
                <td align="middle">
                <img src="../mpm_tachi_engine/demo/breaking_snowballs_render/video.gif" width="250px" />
                <figcaption align="middle" style="font-size: 10pt">Two snowballs colliding.</figcaption>
                </td>
                <td align="middle" >
                <img src="../mpm_tachi_engine/demo/collapsing_snowball_render/video.gif" width="250px" />
                <figcaption align="middle" style="font-size: 10pt">A snowball hitting the ground.
                </figcaption>
                <td align="middle">
                <img src="../mpm_tachi_engine/demo/cube_horizontal_render/video.gif" width="250px" />
                <figcaption align="middle" style="font-size: 10pt">A rigid cube (yellow) and elastic cube (red) colliding.</figcaption>
                </td>
                <td align="middle">
                <img src="../mpm_tachi_engine/demo/cube_vertical_render/video.gif" width="250px" />
                <figcaption align="middle" style="font-size: 10pt"> An elastic cube (red) bouncing off a rigid cube (yellow).</figcaption>
                </td>
                <td align="middle">
                <img src="../mpm_tachi_engine/demo/ellipsoids_in_fluid_render/video.gif" width="250px" />
                <figcaption align="middle" style="font-size: 10pt">Two elastic balls crashing into and floating in a body of water.</figcaption>
                </td>
            </tr>
            <tr  style="vertical-align:top">
                </td>
                <td align="middle">
                <img src="../mpm_tachi_engine/demo/liquid_softblocks_render/video.gif" width="250px" />
                <figcaption align="middle" style="font-size: 10pt">Elastic blocks (red) interacting with water (yellow, teal) and snow (white).</figcaption>
                </td>
                <td align="middle">
                <img src="../mpm_tachi_engine/demo/slanted_floor_render/video.gif" width="250px" />
                <figcaption align="middle" style="font-size: 10pt">The same blocks, water, and snow, but on a tilted surface.</figcaption>
                </td>
                <td align="middle">
                <img src="../mpm_tachi_engine/demo/mud_snow_soft_render/video.gif" width="250px" />
                <figcaption align="middle" style="font-size: 10pt">Snow (white), sand (yellow), and elastic block (red) interacting.</figcaption>
                </td>
                <td align="middle">
                <img src="../mpm_tachi_engine/demo/snow_ball_render/video.gif" width="250px" />
                <figcaption align="middle" style="font-size: 10pt">Rigid ball (yellow) and elastic ball (red) interacting with snow (white).</figcaption>
                </td>
                <td align="middle">
                <img src="../mpm_tachi_engine/demo/snow_rigid_3d_render/video.gif" width="250px" />
                <figcaption align="middle" style="font-size: 10pt">3D render of waterfalls.</figcaption>
                </td>
            </tr>
        </table>
    </div>
    <br>

<h2>Current Progress</h2>
<p>So far, we have been focusing on exploring the Taichi programming language as a means of implementing hybrid Lagrangian MPM. Taichi is a Python-based programming language optimized for computer graphics, using Python as a framework. The engine currently includes a generic MPM solver, which we hope to modify in accordance with our project proposal. In addition to the preliminary renders displayed above, we have learned about the concepts involved in both traditional MPM and the new hybrid model. For example, from reading code and literature, we discovered the effect of various constants in terms of the physical properties. </p>
<p>Young’s modulus ($E$) measures tensile elasticity and determines how susceptible a body is to deformation along a given axis when opposing forces are applied along the axis. The Poisson ratio ($\nu$) measures the deformation of an object perpendicular to an applied force. Softer materials generally have higher values of $\nu$. Lamé’s second parameter ($\mu$) describes a similar measure of tendency to shear (along axis coplanar to the applied force) stress. Finally, the first Lamé parameter ($\lambda$) is used to compute the Cauchy stress tensor ($\sigma$), which gives the stress state for a uniformly stressed body In $\texttt{mpm_solver.py}$, these parameters are varied across different materials to simulate various hard and soft bodies; since the constants affect the stresses and deformation, they are also used compute momentum changes and therefore affect the overall simulation.</p>


$$\lambda = \frac{E \nu}{(1 + \nu)(1 - 2 \nu)}$$
    $$\mu = \frac{E}{2(1 + \nu)}$$
    $$\sigma = 2 \mu \epsilon + \lambda \text{tr}(\epsilon)I$$

<p>Here, $\text{tr}$ is the trace function, and $\epsilon$ is the strain tensor.</p>

<p>Initially, we struggled with finding the correspondence between the paper from Han et al. due to our unfamiliarity with the mathematical background in addition to the specifics of the Taichi programming language. There were also many other technical difficulties regarding the installation of dependencies and other related libraries. After these initial roadblocks however, we were able to better understand how to use built-in Taichi constructs to replicate some of the mathematics and physics described in the paper.</p>

    <br>

<h2>Updated Workplan</h2>
    <div align="center">
        <table style="width=100%" border=2>
            <tr>
                <th>Week</th>
                <th>Tasks</th>
              </tr>
            <tr>
                <td align="middle">
                <p> 4/12/21 </p>
                </td>
                <td align="middle">
                <p> Read through papers
                    Choose a Material Point Method optimization method (e.g. Lagrangian hybrid, Moving Least Squares) Familiarize ourselves with existing code repositories Familiarize ourselves with Mitsuba renderer</p>
                </td>
            </tr>
            <tr>
                <td align="middle">
                <p> 4/19/21 </p>
                </td>
                <td align="middle">
                <p> Work on implementing standard MPM
                    Make sure what we’re doing works well with Mitsuba renderer</p>
                </td>
            </tr>
            <tr>
                <td align="middle">
                <p> 4/26/21 </p>
                </td>
                <td align="middle">
                <p> Finish Material Point Method
                    Begin incorporating optimization of choice                    
                </p>
                </td>
            </tr>
            <tr>
                <td align="middle">
                <p> 5/3/21 </p>
                </td>
                <td align="middle">
                <p> Finish optimization
                    Inevitable debugging
                    Presentation prep
                    </p>
                </td>
            </tr>
        </table>
    </div>
    <br>
</div>
</body>
</html>
